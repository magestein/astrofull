---
export interface TableProps {
  data: any[];
}

const { data }: TableProps = Astro.props;

function truncateText(text: string, length: number) {
  if (text.length <= length) {
    return text;
  }
  return text.substring(0, length) + "...";
}
---

<table class="min-w-full divide-y divide-gray-700">
  <thead class="bg-gray-800">
    <tr>
      <th
        scope="col"
        class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"
        >Title</th
      >
      <th
        scope="col"
        class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"
        >Content</th
      >
      <th
        scope="col"
        class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"
        >isPublished</th
      >
    </tr>
  </thead>
  <tbody class="bg-gray-900 divide-y divide-gray-700">
    {
      data.map((item) => (
        <tr>
          <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-200">
            {truncateText(item.title, 15)}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-200">
            {truncateText(item.content, 30)}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-200">
            {item.isPublished ? "Yes" : "No"}
          </td>
        </tr>
      ))
    }
  </tbody>
</table>
